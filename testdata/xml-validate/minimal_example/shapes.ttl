@prefix owl:         <http://www.w3.org/2002/07/owl#> .
@prefix rdf:         <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:        <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh:          <http://www.w3.org/ns/shacl#> .

@prefix onto:        <http://validation/onto#> .
@prefix onto-shapes: <http://validation/onto-shapes#> .
@prefix val-onto: <http://api.knora.org/validation-onto#> .
@prefix val-shapes:  <http://api.knora.org/validation-shapes#> .


onto-shapes:OtherClass_NodeShape
  a                    sh:NodeShape ;
  sh:targetClass       onto:OtherClass ;
  sh:property          onto-shapes:hasLinkValue_PropShape ;
  sh:ignoredProperties ( rdf:type rdfs:label ) ;
  sh:closed             true .


onto-shapes:hasLinkValue_PropShape
  a sh:PropertyShape ;
  sh:path onto:hasLinkValue ;
  sh:node val-shapes:LinkValue_ClassShape , onto-shapes:hasLinkValue_NodeShape .

onto-shapes:hasLinkValue_NodeShape
  a              sh:NodeShape ;
  sh:name        "Validates class of target." ;
  sh:property    [
                    a            sh:PropertyShape ;
                    sh:path      val-onto:hasLinkTarget ;
                    sh:class     onto:SuperClass ;
                    sh:message   "Target must be of type onto:CardOneResource or a subclass of it." ;
                 ] ;
  sh:severity    sh:Violation .
